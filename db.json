{"meta":{"version":1,"warehouse":"2.2.0"},"models":{"Asset":[{"_id":"source/images/lpht_20181115.jpg","path":"images/lpht_20181115.jpg","modified":1,"renderable":0},{"_id":"themes/landscape/source/css/style.styl","path":"css/style.styl","modified":1,"renderable":1},{"_id":"themes/landscape/source/fancybox/blank.gif","path":"fancybox/blank.gif","modified":1,"renderable":1},{"_id":"themes/landscape/source/fancybox/fancybox_loading.gif","path":"fancybox/fancybox_loading.gif","modified":1,"renderable":1},{"_id":"themes/landscape/source/fancybox/fancybox_loading@2x.gif","path":"fancybox/fancybox_loading@2x.gif","modified":1,"renderable":1},{"_id":"themes/landscape/source/fancybox/fancybox_overlay.png","path":"fancybox/fancybox_overlay.png","modified":1,"renderable":1},{"_id":"themes/landscape/source/fancybox/fancybox_sprite.png","path":"fancybox/fancybox_sprite.png","modified":1,"renderable":1},{"_id":"themes/landscape/source/fancybox/fancybox_sprite@2x.png","path":"fancybox/fancybox_sprite@2x.png","modified":1,"renderable":1},{"_id":"themes/landscape/source/fancybox/jquery.fancybox.css","path":"fancybox/jquery.fancybox.css","modified":1,"renderable":1},{"_id":"themes/landscape/source/fancybox/jquery.fancybox.js","path":"fancybox/jquery.fancybox.js","modified":1,"renderable":1},{"_id":"themes/landscape/source/fancybox/jquery.fancybox.pack.js","path":"fancybox/jquery.fancybox.pack.js","modified":1,"renderable":1},{"_id":"themes/landscape/source/js/script.js","path":"js/script.js","modified":1,"renderable":1},{"_id":"themes/landscape/source/css/fonts/FontAwesome.otf","path":"css/fonts/FontAwesome.otf","modified":1,"renderable":1},{"_id":"themes/landscape/source/css/fonts/fontawesome-webfont.eot","path":"css/fonts/fontawesome-webfont.eot","modified":1,"renderable":1},{"_id":"themes/landscape/source/css/fonts/fontawesome-webfont.woff","path":"css/fonts/fontawesome-webfont.woff","modified":1,"renderable":1},{"_id":"themes/landscape/source/fancybox/helpers/fancybox_buttons.png","path":"fancybox/helpers/fancybox_buttons.png","modified":1,"renderable":1},{"_id":"themes/landscape/source/fancybox/helpers/jquery.fancybox-buttons.css","path":"fancybox/helpers/jquery.fancybox-buttons.css","modified":1,"renderable":1},{"_id":"themes/landscape/source/fancybox/helpers/jquery.fancybox-buttons.js","path":"fancybox/helpers/jquery.fancybox-buttons.js","modified":1,"renderable":1},{"_id":"themes/landscape/source/fancybox/helpers/jquery.fancybox-media.js","path":"fancybox/helpers/jquery.fancybox-media.js","modified":1,"renderable":1},{"_id":"themes/landscape/source/fancybox/helpers/jquery.fancybox-thumbs.css","path":"fancybox/helpers/jquery.fancybox-thumbs.css","modified":1,"renderable":1},{"_id":"themes/landscape/source/fancybox/helpers/jquery.fancybox-thumbs.js","path":"fancybox/helpers/jquery.fancybox-thumbs.js","modified":1,"renderable":1},{"_id":"themes/landscape/source/css/fonts/fontawesome-webfont.ttf","path":"css/fonts/fontawesome-webfont.ttf","modified":1,"renderable":1},{"_id":"themes/landscape/source/css/fonts/fontawesome-webfont.svg","path":"css/fonts/fontawesome-webfont.svg","modified":1,"renderable":1},{"_id":"themes/landscape/source/css/images/banner.jpg","path":"css/images/banner.jpg","modified":1,"renderable":1}],"Cache":[{"_id":"themes/landscape/.gitignore","hash":"ea2b285a29690f1eabbad0f3a158e34e9ccd1d86","modified":1542093019405},{"_id":"themes/landscape/Gruntfile.js","hash":"412e30530784993c8997aa8b1319c669b83b91c2","modified":1542093019406},{"_id":"themes/landscape/LICENSE","hash":"82ce1e15ddeabeaaca60e2186b5a3ce42b1a9c49","modified":1542093019407},{"_id":"themes/landscape/README.md","hash":"67fedfb66304f103c412f6be110bf3c40c75d4ac","modified":1542093019407},{"_id":"themes/landscape/_config.yml","hash":"ce9d2939245209b8f5c5bbbdadc917d86057d032","modified":1542093019408},{"_id":"themes/landscape/package.json","hash":"6e567a9654e61eb3f548c75edef380c2e135c433","modified":1542093019443},{"_id":"source/_posts/2018-12-14-nfs配置过程.md","hash":"244d457f239398c152ba3ba6544d8e9a7e85d398","modified":1544779136165},{"_id":"source/_posts/hello-world.md","hash":"029f91fccbe8f87c0f3ea10c4042300d2fa7edc0","modified":1542093010123},{"_id":"source/_posts/myblog.md","hash":"57a034cabb2ef1daf309f42389ceb4dc112b5c08","modified":1542094409137},{"_id":"source/_posts/隆平基础服务平台部署文档.md","hash":"42b343ba8f5b3881ffa381d9c1c0a2163ac29d94","modified":1542685294522},{"_id":"source/images/lpht_20181115.jpg","hash":"514c0074a9247540a2c8ee02999ac283aabcba09","modified":1542269463264},{"_id":"themes/landscape/languages/de.yml","hash":"d45cea36c5c83d7d09afcd1c26fff4a4c513c25b","modified":1542093019409},{"_id":"themes/landscape/languages/default.yml","hash":"f26a34a7983d4bc17c65c7f0f14da598e62ce66d","modified":1542093019410},{"_id":"themes/landscape/languages/es.yml","hash":"e3b4937da4cd2d0393b8a0ba310e70fc605cc431","modified":1542093019411},{"_id":"themes/landscape/languages/fr.yml","hash":"8cb0fe4b6913b4d5b662cdd0108a923c90025f85","modified":1542093019411},{"_id":"themes/landscape/languages/ja.yml","hash":"3e2fedca096678c0c234ebffa4637828979296fa","modified":1542093019412},{"_id":"themes/landscape/languages/ko.yml","hash":"11330316e3c1262474a2b496e40dbc29f93fe01b","modified":1542093019413},{"_id":"themes/landscape/languages/nl.yml","hash":"3d82ec703d0b3287739d7cb4750a715ae83bfcb3","modified":1542093019414},{"_id":"themes/landscape/languages/no.yml","hash":"ddf2035e920a5ecb9076138c184257d9f51896a7","modified":1542093019415},{"_id":"themes/landscape/languages/pt.yml","hash":"ae2c61b30e638f74f1a42c9ce39ac08d063b30f5","modified":1542093019415},{"_id":"themes/landscape/languages/ru.yml","hash":"2a476b4c6e04900914c81378941640ac5d58a1f0","modified":1542093019416},{"_id":"themes/landscape/languages/zh-CN.yml","hash":"b057f389c6713010f97d461e48ec959b0b6f3b44","modified":1542093019417},{"_id":"themes/landscape/languages/zh-TW.yml","hash":"f5f0ca88185da7a8457760d84bf221781473bd7c","modified":1542093019418},{"_id":"themes/landscape/layout/archive.ejs","hash":"2703b07cc8ac64ae46d1d263f4653013c7e1666b","modified":1542093019438},{"_id":"themes/landscape/layout/category.ejs","hash":"765426a9c8236828dc34759e604cc2c52292835a","modified":1542093019439},{"_id":"themes/landscape/layout/index.ejs","hash":"aa1b4456907bdb43e629be3931547e2d29ac58c8","modified":1542093019440},{"_id":"themes/landscape/layout/layout.ejs","hash":"5d86bc48b0f1bdce9a2bb548c2f8e7a4f50d499a","modified":1542093019440},{"_id":"themes/landscape/layout/page.ejs","hash":"7d80e4e36b14d30a7cd2ac1f61376d9ebf264e8b","modified":1542093019441},{"_id":"themes/landscape/layout/post.ejs","hash":"7d80e4e36b14d30a7cd2ac1f61376d9ebf264e8b","modified":1542093019442},{"_id":"themes/landscape/layout/tag.ejs","hash":"eaa7b4ccb2ca7befb90142e4e68995fb1ea68b2e","modified":1542093019442},{"_id":"themes/landscape/scripts/fancybox.js","hash":"4c130fc242cf9b59b5df6ca5eae3b14302311e8c","modified":1542093019444},{"_id":"themes/landscape/layout/_partial/after-footer.ejs","hash":"5e3b70c028d518b8f765e29a5e2020e7ba6ed589","modified":1542093019420},{"_id":"themes/landscape/layout/_partial/archive-post.ejs","hash":"5062c723721d8497eebad372f57092ade45041f4","modified":1542093019420},{"_id":"themes/landscape/layout/_partial/archive.ejs","hash":"017c412bd3d60d22e493f02918e436a32d96bb84","modified":1542093019421},{"_id":"themes/landscape/layout/_partial/article.ejs","hash":"5cf2b8a1148e6f8c4bd9ca9e3b84c7e5a59d56bc","modified":1542093019422},{"_id":"themes/landscape/layout/_partial/footer.ejs","hash":"6faefe07f3d64e21c7743276e0f55ee1544f9d86","modified":1542093019423},{"_id":"themes/landscape/layout/_partial/gauges-analytics.ejs","hash":"ace3000bd3e01d03041d5be24f7640b6c003a5b5","modified":1542093019424},{"_id":"themes/landscape/layout/_partial/google-analytics.ejs","hash":"1ccc627d7697e68fddc367c73ac09920457e5b35","modified":1542093019424},{"_id":"themes/landscape/layout/_partial/head.ejs","hash":"a36cec48782782bac92622f369c750e5c7396510","modified":1542093019425},{"_id":"themes/landscape/layout/_partial/header.ejs","hash":"cf755454675d13a0813a922b575c06b6b74ab9fd","modified":1542093019426},{"_id":"themes/landscape/layout/_partial/mobile-nav.ejs","hash":"347cf1befd2ea637c24bd5901929d8e36e359e75","modified":1542093019426},{"_id":"themes/landscape/layout/_partial/sidebar.ejs","hash":"c70869569749a8f48cce202fa57926c06b55fdab","modified":1542093019432},{"_id":"themes/landscape/layout/_widget/archive.ejs","hash":"0fe1e52c291c9499bd05b966e0b9aac5be351c58","modified":1542093019434},{"_id":"themes/landscape/layout/_widget/category.ejs","hash":"866790acc13fed44b7ef74c3e19c300a3d6180d8","modified":1542093019435},{"_id":"themes/landscape/layout/_widget/recent_posts.ejs","hash":"16800f85ffb036d2644a26e02facd61acb3706e9","modified":1542093019436},{"_id":"themes/landscape/layout/_widget/tag.ejs","hash":"6017c54a8c3c8ff8db491cfbea3100c139da75d6","modified":1542093019437},{"_id":"themes/landscape/layout/_widget/tagcloud.ejs","hash":"7259c179aa0c41c02e467ad892292e90430aaabc","modified":1542093019437},{"_id":"themes/landscape/source/css/_extend.styl","hash":"8ab1ad313bd6707d248c5ca1ee9a5eab8d815e42","modified":1542093019446},{"_id":"themes/landscape/source/css/_variables.styl","hash":"57bb02270eef16b4823a64ba663ccf2f247f34e5","modified":1542093019458},{"_id":"themes/landscape/source/css/style.styl","hash":"4a3e64ee8dad5834860c30b4176882eff628ca6b","modified":1542093019473},{"_id":"themes/landscape/source/fancybox/blank.gif","hash":"2daeaa8b5f19f0bc209d976c02bd6acb51b00b0a","modified":1542093019474},{"_id":"themes/landscape/source/fancybox/fancybox_loading.gif","hash":"1a755fb2599f3a313cc6cfdb14df043f8c14a99c","modified":1542093019475},{"_id":"themes/landscape/source/fancybox/fancybox_loading@2x.gif","hash":"273b123496a42ba45c3416adb027cd99745058b0","modified":1542093019476},{"_id":"themes/landscape/source/fancybox/fancybox_overlay.png","hash":"b3a4ee645ba494f52840ef8412015ba0f465dbe0","modified":1542093019477},{"_id":"themes/landscape/source/fancybox/fancybox_sprite.png","hash":"17df19f97628e77be09c352bf27425faea248251","modified":1542093019478},{"_id":"themes/landscape/source/fancybox/fancybox_sprite@2x.png","hash":"30c58913f327e28f466a00f4c1ac8001b560aed8","modified":1542093019479},{"_id":"themes/landscape/source/fancybox/jquery.fancybox.css","hash":"2e54d51d21e68ebc4bb870f6e57d3bfb660d4f9c","modified":1542093019487},{"_id":"themes/landscape/source/fancybox/jquery.fancybox.js","hash":"58193c802f307ec9bc9e586c0e8a13ebef45d2f8","modified":1542093019488},{"_id":"themes/landscape/source/fancybox/jquery.fancybox.pack.js","hash":"2da892a02778236b64076e5e8802ef0566e1d9e8","modified":1542093019489},{"_id":"themes/landscape/source/js/script.js","hash":"c0d368681c687258b628bacc84cc30d353de6d47","modified":1542093019491},{"_id":"themes/landscape/layout/_partial/post/category.ejs","hash":"16128d2422645e18d1b6882d4c4df17d895bd76e","modified":1542093019428},{"_id":"themes/landscape/layout/_partial/post/date.ejs","hash":"947f513f7a85fbcf085624e46dc2ae6de8185eec","modified":1542093019429},{"_id":"themes/landscape/layout/_partial/post/gallery.ejs","hash":"b0bf3f5d923c261ca2b5fabab513f1ec2708c8ca","modified":1542093019430},{"_id":"themes/landscape/layout/_partial/post/nav.ejs","hash":"cbb3819ce512bd24db8bad41b8617d46eba82fdc","modified":1542093019430},{"_id":"themes/landscape/layout/_partial/post/tag.ejs","hash":"694b5101bcc44c9f9c1cc62e5ad2fdfb4b7c7a07","modified":1542093019431},{"_id":"themes/landscape/layout/_partial/post/title.ejs","hash":"d4a460a35e2112d0c7414fd5e19b3a16093f1caf","modified":1542093019432},{"_id":"themes/landscape/source/css/_partial/archive.styl","hash":"9e574d8eb1a5285ec3b4346607414770d2f7e0ff","modified":1542093019447},{"_id":"themes/landscape/source/css/_partial/article.styl","hash":"e291bc8c5f0c21080baa549d5d9ef2f39a871ea7","modified":1542093019448},{"_id":"themes/landscape/source/css/_partial/comment.styl","hash":"2834870661e490775f9154d71638bfdc72e640a6","modified":1542093019449},{"_id":"themes/landscape/source/css/_partial/footer.styl","hash":"6f7aa810f296d6a1a4486637b5a853d35a198938","modified":1542093019450},{"_id":"themes/landscape/source/css/_partial/header.styl","hash":"67e59feb18eee6026717cb440d86ab9551782628","modified":1542093019451},{"_id":"themes/landscape/source/css/_partial/highlight.styl","hash":"ac19f1621305ca9f6a7b74acd211a4c0d88690bd","modified":1542093019452},{"_id":"themes/landscape/source/css/_partial/mobile.styl","hash":"680c7b809b62cd3ad294e822793fbd0b1a32cc33","modified":1542093019453},{"_id":"themes/landscape/source/css/_partial/sidebar-aside.styl","hash":"1fb15f13ba70d5b954f62920c6b63d26e2fb2985","modified":1542093019454},{"_id":"themes/landscape/source/css/_partial/sidebar-bottom.styl","hash":"4132e25ba9680c4b911a01abc75f501cda3fa4f1","modified":1542093019454},{"_id":"themes/landscape/source/css/_partial/sidebar.styl","hash":"8d971a00e644a600179b04815688d188f094012e","modified":1542093019455},{"_id":"themes/landscape/source/css/_util/grid.styl","hash":"1aa883ab432d9e4139c89dcbd40ae2bd1528d029","modified":1542093019456},{"_id":"themes/landscape/source/css/_util/mixin.styl","hash":"429bad87fc156eacf226c5e35b0eafc277f2504b","modified":1542093019457},{"_id":"themes/landscape/source/css/fonts/FontAwesome.otf","hash":"b5b4f9be85f91f10799e87a083da1d050f842734","modified":1542093019460},{"_id":"themes/landscape/source/css/fonts/fontawesome-webfont.eot","hash":"7619748fe34c64fb157a57f6d4ef3678f63a8f5e","modified":1542093019462},{"_id":"themes/landscape/source/css/fonts/fontawesome-webfont.woff","hash":"04c3bf56d87a0828935bd6b4aee859995f321693","modified":1542093019468},{"_id":"themes/landscape/source/fancybox/helpers/fancybox_buttons.png","hash":"e385b139516c6813dcd64b8fc431c364ceafe5f3","modified":1542093019480},{"_id":"themes/landscape/source/fancybox/helpers/jquery.fancybox-buttons.css","hash":"6394c48092085788a8c0ef72670b0652006231a1","modified":1542093019481},{"_id":"themes/landscape/source/fancybox/helpers/jquery.fancybox-buttons.js","hash":"4c9c395d705d22af7da06870d18f434e2a2eeaf9","modified":1542093019482},{"_id":"themes/landscape/source/fancybox/helpers/jquery.fancybox-media.js","hash":"e14c32cc6823b81b2f758512f13ed8eb9ef2b454","modified":1542093019484},{"_id":"themes/landscape/source/fancybox/helpers/jquery.fancybox-thumbs.css","hash":"b88b589f5f1aa1b3d87cc7eef34c281ff749b1ae","modified":1542093019485},{"_id":"themes/landscape/source/fancybox/helpers/jquery.fancybox-thumbs.js","hash":"83cdfea43632b613771691a11f56f99d85fb6dbd","modified":1542093019486},{"_id":"themes/landscape/source/css/fonts/fontawesome-webfont.ttf","hash":"7f09c97f333917034ad08fa7295e916c9f72fd3f","modified":1542093019467},{"_id":"themes/landscape/source/css/fonts/fontawesome-webfont.svg","hash":"a275426daefd3716c53561fad121d258a7f05b47","modified":1542093019464},{"_id":"themes/landscape/source/css/images/banner.jpg","hash":"f44aa591089fcb3ec79770a1e102fd3289a7c6a6","modified":1542093019472},{"_id":"public/2018/11/13/myblog/index.html","hash":"78700d7bd798825a8f97cb3cd1fc51410aa7e1c7","modified":1544779150419},{"_id":"public/2018/11/13/hello-world/index.html","hash":"89f6ea7dcd8b2f869d4714febed44daab1d67777","modified":1544779150419},{"_id":"public/archives/index.html","hash":"dee8419fd7c28993df1ab1139cb3811bdd10c5ca","modified":1544779150465},{"_id":"public/archives/2018/index.html","hash":"cc1f73555cf6ca9b40eb37bef6b5f5b3726cdc48","modified":1544779150466},{"_id":"public/archives/2018/11/index.html","hash":"8123ca305b4ac1f0de3e1c50134c186086a38223","modified":1544779150467},{"_id":"public/categories/工作/index.html","hash":"16ae9dd0e47ec2cec023364af1e8cbfd05661e5e","modified":1544779150467},{"_id":"public/tags/java/index.html","hash":"d5f0f4464e2a06d9bd778a395b5022acce1d3016","modified":1544779150467},{"_id":"public/2018/11/15/隆平基础服务平台部署文档/index.html","hash":"c6dd70a0ecf630811692f05572af5199565fdaf5","modified":1544779150467},{"_id":"public/index.html","hash":"c7a3371aaee182011c9d75489c7db2141a066243","modified":1544779150468},{"_id":"public/2018/12/14/nfs配置过程/index.html","hash":"b53704e237138fe1350ce182aff21a85412f2d09","modified":1544779150477},{"_id":"public/archives/2018/12/index.html","hash":"f656ab26067e277f4216ca4c76f6e3d108a36344","modified":1544779150478},{"_id":"public/tags/实施/index.html","hash":"1b6498801ac67f68ba5a5f5167a73ed76fc043d4","modified":1544779150478},{"_id":"public/images/lpht_20181115.jpg","hash":"514c0074a9247540a2c8ee02999ac283aabcba09","modified":1544779150485},{"_id":"public/fancybox/blank.gif","hash":"2daeaa8b5f19f0bc209d976c02bd6acb51b00b0a","modified":1544779150485},{"_id":"public/fancybox/fancybox_loading.gif","hash":"1a755fb2599f3a313cc6cfdb14df043f8c14a99c","modified":1544779150486},{"_id":"public/fancybox/fancybox_loading@2x.gif","hash":"273b123496a42ba45c3416adb027cd99745058b0","modified":1544779150486},{"_id":"public/fancybox/fancybox_overlay.png","hash":"b3a4ee645ba494f52840ef8412015ba0f465dbe0","modified":1544779150486},{"_id":"public/fancybox/fancybox_sprite.png","hash":"17df19f97628e77be09c352bf27425faea248251","modified":1544779150486},{"_id":"public/fancybox/fancybox_sprite@2x.png","hash":"30c58913f327e28f466a00f4c1ac8001b560aed8","modified":1544779150487},{"_id":"public/css/fonts/FontAwesome.otf","hash":"b5b4f9be85f91f10799e87a083da1d050f842734","modified":1544779150487},{"_id":"public/css/fonts/fontawesome-webfont.eot","hash":"7619748fe34c64fb157a57f6d4ef3678f63a8f5e","modified":1544779150487},{"_id":"public/css/fonts/fontawesome-webfont.woff","hash":"04c3bf56d87a0828935bd6b4aee859995f321693","modified":1544779150487},{"_id":"public/fancybox/helpers/fancybox_buttons.png","hash":"e385b139516c6813dcd64b8fc431c364ceafe5f3","modified":1544779150487},{"_id":"public/css/fonts/fontawesome-webfont.ttf","hash":"7f09c97f333917034ad08fa7295e916c9f72fd3f","modified":1544779151212},{"_id":"public/fancybox/jquery.fancybox.css","hash":"aaa582fb9eb4b7092dc69fcb2d5b1c20cca58ab6","modified":1544779151227},{"_id":"public/js/script.js","hash":"2876e0b19ce557fca38d7c6f49ca55922ab666a1","modified":1544779151227},{"_id":"public/fancybox/helpers/jquery.fancybox-buttons.css","hash":"1a9d8e5c22b371fcc69d4dbbb823d9c39f04c0c8","modified":1544779151227},{"_id":"public/fancybox/helpers/jquery.fancybox-buttons.js","hash":"dc3645529a4bf72983a39fa34c1eb9146e082019","modified":1544779151228},{"_id":"public/fancybox/helpers/jquery.fancybox-media.js","hash":"294420f9ff20f4e3584d212b0c262a00a96ecdb3","modified":1544779151228},{"_id":"public/fancybox/helpers/jquery.fancybox-thumbs.css","hash":"4ac329c16a5277592fc12a37cca3d72ca4ec292f","modified":1544779151228},{"_id":"public/fancybox/helpers/jquery.fancybox-thumbs.js","hash":"47da1ae5401c24b5c17cc18e2730780f5c1a7a0c","modified":1544779151228},{"_id":"public/css/style.css","hash":"5f8dadd37d0052c557061018fe6f568f64fced9b","modified":1544779151229},{"_id":"public/fancybox/jquery.fancybox.js","hash":"d08b03a42d5c4ba456ef8ba33116fdbb7a9cabed","modified":1544779151229},{"_id":"public/fancybox/jquery.fancybox.pack.js","hash":"9e0d51ca1dbe66f6c0c7aefd552dc8122e694a6e","modified":1544779151229},{"_id":"public/css/fonts/fontawesome-webfont.svg","hash":"a275426daefd3716c53561fad121d258a7f05b47","modified":1544779151312},{"_id":"public/css/images/banner.jpg","hash":"f44aa591089fcb3ec79770a1e102fd3289a7c6a6","modified":1544779151312}],"Category":[{"name":"工作","_id":"cjpntmcde0004fkjazg8x9ntk"}],"Data":[],"Page":[],"Post":[{"title":"nfs配置过程","date":"2018-12-14T09:18:15.000Z","_content":"\n\n\n# NFS 共享存储配置过程\n\n## 机器准备\n\n- 主机192.168.129.159\n\n- 客户端1 192.168.129.162\n- 客户端2 192.168.129.163\n\n## 安装\n\n```shell\nyum install -y nfs-utils  rpcbind\ncat /etc/exports\n```\n\n## 建立主机共享目录\n\n```shell\nmkdir  -p /home/jiaoqx/app/share\nchown -R nfsnobody:nfsnobody /home/jiaoqx/app/share\n```\n\n## 配置主机的挂载目录\n\n```shell\n/home/jiaoqx/app/share  192.168.129.162(rw)  192.168.129.163(rw，sync)\n```\n\n配置参数：\n\nrw： 读写\n\nro ：只读\n\nsync：将数据同步写入内存缓冲区与磁盘中，效率低，但可以保证数据的一致性；\n\nasync：是大数据时使用，是先写到缓存区，必要时再写到磁盘里。\n\nall_squash：所有访问用户都映射为匿名用户或用户组；\nno_all_squash（默认）：访问用户先与本机用户匹配，匹配失败后再映射为匿名用户或用户组；\n\nroot_squash（默认）：将来访的root用户映射为匿名用户或用户组；\n\nno_root_squash：来访的root用户保持root帐号权限；\n\n \n\nwdelay（默认）：检查是否有相关的写操作，如果有则将这些写操作一起执行，这样可以提高效率；\n\nno_wdelay：若有写操作则立即执行，应与sync配合使用；\n\n \n\nsubtree_check ：若输出目录是一个子目录，则nfs服务器将检查其父目录的权限；\n\nno_subtree_check（默认）：即使输出目录是一个子目录，nfs服务器也不检查其父目录的权限，这样可以提高效率；\n\n\n\n## 启动服务\n\n先启动 rpcbind 后启动 nfs\n\n```shell\nservice rpcbind start\nservice nfs start\n```\n\n\n\n让nfs开机启动\n\n```shell\nchkconfig rpcbind on\nchkconfig nfs on\n```\n\n\n\n## 查看共享文件服务配置\n\n```shell\nshowmount -e 192.168.129.159\n```\n\n## 客户端配置\n\n1. 安装nfs服务\n\n2. 建立挂在共享的目录，然后执行挂载命令\n\n   ```shell\n   mkdir /home/jiaoqx/app/tmp/files\n   mount -t nfs 192.168.129.159:/home/jiaoqx/app/share /home/jiaoqx/app/tmp/files\n   ```\n\n\n## 修改主机挂载目录后客户端重新挂载\n\n```shell\numount -f /home/jiaoqx/app/tmp/files\nmount -t nfs 192.168.129.159:/home/jiaoqx/app/share /home/jiaoqx/app/tmp/files\nservice rpcbind restart\nservice nfs restart\n```","source":"_posts/2018-12-14-nfs配置过程.md","raw":"---\ntitle: nfs配置过程\ndate: 2018-12-14 17:18:15\ntags:\n---\n\n\n\n# NFS 共享存储配置过程\n\n## 机器准备\n\n- 主机192.168.129.159\n\n- 客户端1 192.168.129.162\n- 客户端2 192.168.129.163\n\n## 安装\n\n```shell\nyum install -y nfs-utils  rpcbind\ncat /etc/exports\n```\n\n## 建立主机共享目录\n\n```shell\nmkdir  -p /home/jiaoqx/app/share\nchown -R nfsnobody:nfsnobody /home/jiaoqx/app/share\n```\n\n## 配置主机的挂载目录\n\n```shell\n/home/jiaoqx/app/share  192.168.129.162(rw)  192.168.129.163(rw，sync)\n```\n\n配置参数：\n\nrw： 读写\n\nro ：只读\n\nsync：将数据同步写入内存缓冲区与磁盘中，效率低，但可以保证数据的一致性；\n\nasync：是大数据时使用，是先写到缓存区，必要时再写到磁盘里。\n\nall_squash：所有访问用户都映射为匿名用户或用户组；\nno_all_squash（默认）：访问用户先与本机用户匹配，匹配失败后再映射为匿名用户或用户组；\n\nroot_squash（默认）：将来访的root用户映射为匿名用户或用户组；\n\nno_root_squash：来访的root用户保持root帐号权限；\n\n \n\nwdelay（默认）：检查是否有相关的写操作，如果有则将这些写操作一起执行，这样可以提高效率；\n\nno_wdelay：若有写操作则立即执行，应与sync配合使用；\n\n \n\nsubtree_check ：若输出目录是一个子目录，则nfs服务器将检查其父目录的权限；\n\nno_subtree_check（默认）：即使输出目录是一个子目录，nfs服务器也不检查其父目录的权限，这样可以提高效率；\n\n\n\n## 启动服务\n\n先启动 rpcbind 后启动 nfs\n\n```shell\nservice rpcbind start\nservice nfs start\n```\n\n\n\n让nfs开机启动\n\n```shell\nchkconfig rpcbind on\nchkconfig nfs on\n```\n\n\n\n## 查看共享文件服务配置\n\n```shell\nshowmount -e 192.168.129.159\n```\n\n## 客户端配置\n\n1. 安装nfs服务\n\n2. 建立挂在共享的目录，然后执行挂载命令\n\n   ```shell\n   mkdir /home/jiaoqx/app/tmp/files\n   mount -t nfs 192.168.129.159:/home/jiaoqx/app/share /home/jiaoqx/app/tmp/files\n   ```\n\n\n## 修改主机挂载目录后客户端重新挂载\n\n```shell\numount -f /home/jiaoqx/app/tmp/files\nmount -t nfs 192.168.129.159:/home/jiaoqx/app/share /home/jiaoqx/app/tmp/files\nservice rpcbind restart\nservice nfs restart\n```","slug":"nfs配置过程","published":1,"updated":"2018-12-14T09:18:56.165Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjpntmccu0000fkjawor1f1y6","content":"<h1 id=\"NFS-共享存储配置过程\"><a href=\"#NFS-共享存储配置过程\" class=\"headerlink\" title=\"NFS 共享存储配置过程\"></a>NFS 共享存储配置过程</h1><h2 id=\"机器准备\"><a href=\"#机器准备\" class=\"headerlink\" title=\"机器准备\"></a>机器准备</h2><ul>\n<li><p>主机192.168.129.159</p>\n</li>\n<li><p>客户端1 192.168.129.162</p>\n</li>\n<li>客户端2 192.168.129.163</li>\n</ul>\n<h2 id=\"安装\"><a href=\"#安装\" class=\"headerlink\" title=\"安装\"></a>安装</h2><figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">yum install -y nfs-utils  rpcbind</span><br><span class=\"line\">cat /etc/exports</span><br></pre></td></tr></table></figure>\n<h2 id=\"建立主机共享目录\"><a href=\"#建立主机共享目录\" class=\"headerlink\" title=\"建立主机共享目录\"></a>建立主机共享目录</h2><figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">mkdir  -p /home/jiaoqx/app/share</span><br><span class=\"line\">chown -R nfsnobody:nfsnobody /home/jiaoqx/app/share</span><br></pre></td></tr></table></figure>\n<h2 id=\"配置主机的挂载目录\"><a href=\"#配置主机的挂载目录\" class=\"headerlink\" title=\"配置主机的挂载目录\"></a>配置主机的挂载目录</h2><figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">/home/jiaoqx/app/share  192.168.129.162(rw)  192.168.129.163(rw，sync)</span><br></pre></td></tr></table></figure>\n<p>配置参数：</p>\n<p>rw： 读写</p>\n<p>ro ：只读</p>\n<p>sync：将数据同步写入内存缓冲区与磁盘中，效率低，但可以保证数据的一致性；</p>\n<p>async：是大数据时使用，是先写到缓存区，必要时再写到磁盘里。</p>\n<p>all_squash：所有访问用户都映射为匿名用户或用户组；<br>no_all_squash（默认）：访问用户先与本机用户匹配，匹配失败后再映射为匿名用户或用户组；</p>\n<p>root_squash（默认）：将来访的root用户映射为匿名用户或用户组；</p>\n<p>no_root_squash：来访的root用户保持root帐号权限；</p>\n<p>wdelay（默认）：检查是否有相关的写操作，如果有则将这些写操作一起执行，这样可以提高效率；</p>\n<p>no_wdelay：若有写操作则立即执行，应与sync配合使用；</p>\n<p>subtree_check ：若输出目录是一个子目录，则nfs服务器将检查其父目录的权限；</p>\n<p>no_subtree_check（默认）：即使输出目录是一个子目录，nfs服务器也不检查其父目录的权限，这样可以提高效率；</p>\n<h2 id=\"启动服务\"><a href=\"#启动服务\" class=\"headerlink\" title=\"启动服务\"></a>启动服务</h2><p>先启动 rpcbind 后启动 nfs</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">service rpcbind start</span><br><span class=\"line\">service nfs start</span><br></pre></td></tr></table></figure>\n<p>让nfs开机启动</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">chkconfig rpcbind on</span><br><span class=\"line\">chkconfig nfs on</span><br></pre></td></tr></table></figure>\n<h2 id=\"查看共享文件服务配置\"><a href=\"#查看共享文件服务配置\" class=\"headerlink\" title=\"查看共享文件服务配置\"></a>查看共享文件服务配置</h2><figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">showmount -e 192.168.129.159</span><br></pre></td></tr></table></figure>\n<h2 id=\"客户端配置\"><a href=\"#客户端配置\" class=\"headerlink\" title=\"客户端配置\"></a>客户端配置</h2><ol>\n<li><p>安装nfs服务</p>\n</li>\n<li><p>建立挂在共享的目录，然后执行挂载命令</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">mkdir /home/jiaoqx/app/tmp/files</span><br><span class=\"line\">mount -t nfs 192.168.129.159:/home/jiaoqx/app/share /home/jiaoqx/app/tmp/files</span><br></pre></td></tr></table></figure>\n</li>\n</ol>\n<h2 id=\"修改主机挂载目录后客户端重新挂载\"><a href=\"#修改主机挂载目录后客户端重新挂载\" class=\"headerlink\" title=\"修改主机挂载目录后客户端重新挂载\"></a>修改主机挂载目录后客户端重新挂载</h2><figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">umount -f /home/jiaoqx/app/tmp/files</span><br><span class=\"line\">mount -t nfs 192.168.129.159:/home/jiaoqx/app/share /home/jiaoqx/app/tmp/files</span><br><span class=\"line\">service rpcbind restart</span><br><span class=\"line\">service nfs restart</span><br></pre></td></tr></table></figure>","site":{"data":{}},"excerpt":"","more":"<h1 id=\"NFS-共享存储配置过程\"><a href=\"#NFS-共享存储配置过程\" class=\"headerlink\" title=\"NFS 共享存储配置过程\"></a>NFS 共享存储配置过程</h1><h2 id=\"机器准备\"><a href=\"#机器准备\" class=\"headerlink\" title=\"机器准备\"></a>机器准备</h2><ul>\n<li><p>主机192.168.129.159</p>\n</li>\n<li><p>客户端1 192.168.129.162</p>\n</li>\n<li>客户端2 192.168.129.163</li>\n</ul>\n<h2 id=\"安装\"><a href=\"#安装\" class=\"headerlink\" title=\"安装\"></a>安装</h2><figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">yum install -y nfs-utils  rpcbind</span><br><span class=\"line\">cat /etc/exports</span><br></pre></td></tr></table></figure>\n<h2 id=\"建立主机共享目录\"><a href=\"#建立主机共享目录\" class=\"headerlink\" title=\"建立主机共享目录\"></a>建立主机共享目录</h2><figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">mkdir  -p /home/jiaoqx/app/share</span><br><span class=\"line\">chown -R nfsnobody:nfsnobody /home/jiaoqx/app/share</span><br></pre></td></tr></table></figure>\n<h2 id=\"配置主机的挂载目录\"><a href=\"#配置主机的挂载目录\" class=\"headerlink\" title=\"配置主机的挂载目录\"></a>配置主机的挂载目录</h2><figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">/home/jiaoqx/app/share  192.168.129.162(rw)  192.168.129.163(rw，sync)</span><br></pre></td></tr></table></figure>\n<p>配置参数：</p>\n<p>rw： 读写</p>\n<p>ro ：只读</p>\n<p>sync：将数据同步写入内存缓冲区与磁盘中，效率低，但可以保证数据的一致性；</p>\n<p>async：是大数据时使用，是先写到缓存区，必要时再写到磁盘里。</p>\n<p>all_squash：所有访问用户都映射为匿名用户或用户组；<br>no_all_squash（默认）：访问用户先与本机用户匹配，匹配失败后再映射为匿名用户或用户组；</p>\n<p>root_squash（默认）：将来访的root用户映射为匿名用户或用户组；</p>\n<p>no_root_squash：来访的root用户保持root帐号权限；</p>\n<p>wdelay（默认）：检查是否有相关的写操作，如果有则将这些写操作一起执行，这样可以提高效率；</p>\n<p>no_wdelay：若有写操作则立即执行，应与sync配合使用；</p>\n<p>subtree_check ：若输出目录是一个子目录，则nfs服务器将检查其父目录的权限；</p>\n<p>no_subtree_check（默认）：即使输出目录是一个子目录，nfs服务器也不检查其父目录的权限，这样可以提高效率；</p>\n<h2 id=\"启动服务\"><a href=\"#启动服务\" class=\"headerlink\" title=\"启动服务\"></a>启动服务</h2><p>先启动 rpcbind 后启动 nfs</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">service rpcbind start</span><br><span class=\"line\">service nfs start</span><br></pre></td></tr></table></figure>\n<p>让nfs开机启动</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">chkconfig rpcbind on</span><br><span class=\"line\">chkconfig nfs on</span><br></pre></td></tr></table></figure>\n<h2 id=\"查看共享文件服务配置\"><a href=\"#查看共享文件服务配置\" class=\"headerlink\" title=\"查看共享文件服务配置\"></a>查看共享文件服务配置</h2><figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">showmount -e 192.168.129.159</span><br></pre></td></tr></table></figure>\n<h2 id=\"客户端配置\"><a href=\"#客户端配置\" class=\"headerlink\" title=\"客户端配置\"></a>客户端配置</h2><ol>\n<li><p>安装nfs服务</p>\n</li>\n<li><p>建立挂在共享的目录，然后执行挂载命令</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">mkdir /home/jiaoqx/app/tmp/files</span><br><span class=\"line\">mount -t nfs 192.168.129.159:/home/jiaoqx/app/share /home/jiaoqx/app/tmp/files</span><br></pre></td></tr></table></figure>\n</li>\n</ol>\n<h2 id=\"修改主机挂载目录后客户端重新挂载\"><a href=\"#修改主机挂载目录后客户端重新挂载\" class=\"headerlink\" title=\"修改主机挂载目录后客户端重新挂载\"></a>修改主机挂载目录后客户端重新挂载</h2><figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">umount -f /home/jiaoqx/app/tmp/files</span><br><span class=\"line\">mount -t nfs 192.168.129.159:/home/jiaoqx/app/share /home/jiaoqx/app/tmp/files</span><br><span class=\"line\">service rpcbind restart</span><br><span class=\"line\">service nfs restart</span><br></pre></td></tr></table></figure>"},{"title":"Hello World","_content":"Welcome to [Hexo](https://hexo.io/)! This is your very first post. Check [documentation](https://hexo.io/docs/) for more info. If you get any problems when using Hexo, you can find the answer in [troubleshooting](https://hexo.io/docs/troubleshooting.html) or you can ask me on [GitHub](https://github.com/hexojs/hexo/issues).\n\n## Quick Start\n\n### Create a new post\n\n``` bash\n$ hexo new \"My New Post\"\n```\n\nMore info: [Writing](https://hexo.io/docs/writing.html)\n\n### Run server\n\n``` bash\n$ hexo server\n```\n\nMore info: [Server](https://hexo.io/docs/server.html)\n\n### Generate static files\n\n``` bash\n$ hexo generate\n```\n\nMore info: [Generating](https://hexo.io/docs/generating.html)\n\n### Deploy to remote sites\n\n``` bash\n$ hexo deploy\n```\n\nMore info: [Deployment](https://hexo.io/docs/deployment.html)\n","source":"_posts/hello-world.md","raw":"---\ntitle: Hello World\n---\nWelcome to [Hexo](https://hexo.io/)! This is your very first post. Check [documentation](https://hexo.io/docs/) for more info. If you get any problems when using Hexo, you can find the answer in [troubleshooting](https://hexo.io/docs/troubleshooting.html) or you can ask me on [GitHub](https://github.com/hexojs/hexo/issues).\n\n## Quick Start\n\n### Create a new post\n\n``` bash\n$ hexo new \"My New Post\"\n```\n\nMore info: [Writing](https://hexo.io/docs/writing.html)\n\n### Run server\n\n``` bash\n$ hexo server\n```\n\nMore info: [Server](https://hexo.io/docs/server.html)\n\n### Generate static files\n\n``` bash\n$ hexo generate\n```\n\nMore info: [Generating](https://hexo.io/docs/generating.html)\n\n### Deploy to remote sites\n\n``` bash\n$ hexo deploy\n```\n\nMore info: [Deployment](https://hexo.io/docs/deployment.html)\n","slug":"hello-world","published":1,"date":"2018-11-13T07:10:10.123Z","updated":"2018-11-13T07:10:10.123Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjpntmcd20001fkjarcsijdcs","content":"<p>Welcome to <a href=\"https://hexo.io/\" target=\"_blank\" rel=\"noopener\">Hexo</a>! This is your very first post. Check <a href=\"https://hexo.io/docs/\" target=\"_blank\" rel=\"noopener\">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href=\"https://hexo.io/docs/troubleshooting.html\" target=\"_blank\" rel=\"noopener\">troubleshooting</a> or you can ask me on <a href=\"https://github.com/hexojs/hexo/issues\" target=\"_blank\" rel=\"noopener\">GitHub</a>.</p>\n<h2 id=\"Quick-Start\"><a href=\"#Quick-Start\" class=\"headerlink\" title=\"Quick Start\"></a>Quick Start</h2><h3 id=\"Create-a-new-post\"><a href=\"#Create-a-new-post\" class=\"headerlink\" title=\"Create a new post\"></a>Create a new post</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ hexo new <span class=\"string\">\"My New Post\"</span></span><br></pre></td></tr></table></figure>\n<p>More info: <a href=\"https://hexo.io/docs/writing.html\" target=\"_blank\" rel=\"noopener\">Writing</a></p>\n<h3 id=\"Run-server\"><a href=\"#Run-server\" class=\"headerlink\" title=\"Run server\"></a>Run server</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ hexo server</span><br></pre></td></tr></table></figure>\n<p>More info: <a href=\"https://hexo.io/docs/server.html\" target=\"_blank\" rel=\"noopener\">Server</a></p>\n<h3 id=\"Generate-static-files\"><a href=\"#Generate-static-files\" class=\"headerlink\" title=\"Generate static files\"></a>Generate static files</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ hexo generate</span><br></pre></td></tr></table></figure>\n<p>More info: <a href=\"https://hexo.io/docs/generating.html\" target=\"_blank\" rel=\"noopener\">Generating</a></p>\n<h3 id=\"Deploy-to-remote-sites\"><a href=\"#Deploy-to-remote-sites\" class=\"headerlink\" title=\"Deploy to remote sites\"></a>Deploy to remote sites</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ hexo deploy</span><br></pre></td></tr></table></figure>\n<p>More info: <a href=\"https://hexo.io/docs/deployment.html\" target=\"_blank\" rel=\"noopener\">Deployment</a></p>\n","site":{"data":{}},"excerpt":"","more":"<p>Welcome to <a href=\"https://hexo.io/\" target=\"_blank\" rel=\"noopener\">Hexo</a>! This is your very first post. Check <a href=\"https://hexo.io/docs/\" target=\"_blank\" rel=\"noopener\">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href=\"https://hexo.io/docs/troubleshooting.html\" target=\"_blank\" rel=\"noopener\">troubleshooting</a> or you can ask me on <a href=\"https://github.com/hexojs/hexo/issues\" target=\"_blank\" rel=\"noopener\">GitHub</a>.</p>\n<h2 id=\"Quick-Start\"><a href=\"#Quick-Start\" class=\"headerlink\" title=\"Quick Start\"></a>Quick Start</h2><h3 id=\"Create-a-new-post\"><a href=\"#Create-a-new-post\" class=\"headerlink\" title=\"Create a new post\"></a>Create a new post</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ hexo new <span class=\"string\">\"My New Post\"</span></span><br></pre></td></tr></table></figure>\n<p>More info: <a href=\"https://hexo.io/docs/writing.html\" target=\"_blank\" rel=\"noopener\">Writing</a></p>\n<h3 id=\"Run-server\"><a href=\"#Run-server\" class=\"headerlink\" title=\"Run server\"></a>Run server</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ hexo server</span><br></pre></td></tr></table></figure>\n<p>More info: <a href=\"https://hexo.io/docs/server.html\" target=\"_blank\" rel=\"noopener\">Server</a></p>\n<h3 id=\"Generate-static-files\"><a href=\"#Generate-static-files\" class=\"headerlink\" title=\"Generate static files\"></a>Generate static files</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ hexo generate</span><br></pre></td></tr></table></figure>\n<p>More info: <a href=\"https://hexo.io/docs/generating.html\" target=\"_blank\" rel=\"noopener\">Generating</a></p>\n<h3 id=\"Deploy-to-remote-sites\"><a href=\"#Deploy-to-remote-sites\" class=\"headerlink\" title=\"Deploy to remote sites\"></a>Deploy to remote sites</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ hexo deploy</span><br></pre></td></tr></table></figure>\n<p>More info: <a href=\"https://hexo.io/docs/deployment.html\" target=\"_blank\" rel=\"noopener\">Deployment</a></p>\n"},{"title":"myblog","date":"2018-11-13T07:33:29.000Z","_content":"","source":"_posts/myblog.md","raw":"---\ntitle: myblog\ndate: 2018-11-13 15:33:29\ntags:\n---\n","slug":"myblog","published":1,"updated":"2018-11-13T07:33:29.137Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjpntmcd70002fkjahlnqv0qo","content":"","site":{"data":{}},"excerpt":"","more":""},{"title":"基础服务平台部署文档","date":"2018-11-15T03:30:03.000Z","_content":"# 环境准备\n### 服务器准备\n* 准备服务器 4台，以下分别以A/B/C/D/E标记\n* 应用服务器规划：\n\n服务器 | 部署服务\n----  |  ----\nA | zookeeper主节点/CPI/网关\nB | zookeeper从属节点/农户服务/客商服务\nC | zookeeper从属节点/农户服务/客商服务\nD | zookeeper从属节点/农户服务/客商服务\nE | CPI/dubbo控制台/网关\n\n### dubbo平台安装\n1. 安装zookeeper（*具体安装步骤参考官网资料*）\n\t- 安装zookeeper\n\t- 编辑配置文件，设置主从节点\n\t- 启动zookeeper服务\n2. 设置配置中心\n  - 启动zookeeper客户端> 建议使用zookeeper监视器（zookeeper-dev-ZooInspector.jar）\n  - 在根目录下建立名称为lpht_cfg_center的目录节点，并在该节点下再建立 test子节点，在test节点下建立bsci_service（接口服务配置）、bsci_client（cpi配置）两个节点\n  - 编辑bsci_service节点配置 \n```json\n{\n      \"spring.datasource.url\": \"jdbc:oracle:thin:@192.168.128.108:1521:orcl\",\n      \"spring.datasource.username\": \"LPHT_BASE\",\n      \"spring.datasource.password\": \"LPHT_BASE\",\n      \"farmer.server.port\": \"8661\",\n      \"merchant.server.port\": \"8662\",\t\t\n      \"spring.dubbo.registry.address\":\"zookeeper://192.168.129.157:2181?backup=192.168.129.158:2181,192.168.129.161:2181\",\n      \"farmer.dubbo.port\":\"20861\",\n      \"merchant.dubbo.port\":\"20862\",\n      \"spring.cloud.consul.host\": \"192.168.128.134\",\n      \"spring.cloud.consul.port\": \"8500\"\n} \n```\n\n\n配置项     | 说明\n-------- | ---\nspring.datasource.url | 数据库连接\nspring.datasource.username    | 数据库用户名\nspring.datasource.password     | 数据库连接密码\nfarmer.server.port          | 农户接口服务端口号\nmerchant.server.port  | 客商服务端口号\nspring.dubbo.registry.address | dubbo注册中心地址（?号前是主服务地址端口，backup参数为从属服务地址端口\nfarmer.dubbo.port |  农户接口服务dubbo端口号\nmerchant.dubbo.port |  客商接口服务dubbo端口号\nspring.cloud.consul.host | 网关地址\nspring.cloud.consul.port | 网关端口\n\n  - 编辑bsci_client节点配置\n```json\n{\n      \"auth.clientCode\": \"BS_CONFIG_CENTER\", \n      \"auth.inLoginUrl\": \"http://192.168.128.107:8088/cas/login?service=http://192.168.129.159:9080/bsci/cas&CLIENT_CODE=BS_CONFIG_CENTER\", \n      \"auth.outLoginUrl\": \"http://192.168.128.107:8088/cas/login?service=http://192.168.129.159:9080/bsci/cas&CLIENT_CODE=BS_CONFIG_CENTER\", \n      \"auth.unauthorizedUrl\": \"http://localhost:8080/sales/platform/index.do\", \n      \"auth.inCasserverUrlPrefix\": \"http://192.168.128.107:8088/cas\", \n      \"auth.outCasserverUrlPrefix\": \"http://192.168.128.107:8088/cas\", \n      \"auth.inCasService\": \"http://192.168.129.159:9080/bsci/cas\", \n      \"auth.outCasService\": \"http://192.168.129.159:9080/bsci/cas\", \n      \"auth.inLogoutUrl\": \"http://192.168.128.107:8088/cas/logout?service=http://192.168.129.159:9080/bsci/logout&CLIENT_CODE=BS_CONFIG_CENTER\", \n      \"auth.outLogoutUrl\": \"http://192.168.128.107:8088/cas/logout?service=http://192.168.129.159:9080/bsci/logout&CLIENT_CODE=BS_CONFIG_CENTER\", \n      \"auth.wsGetUserAuthInfo\": \"http://192.168.128.107:8088/sysManager/webservice/authService/getUserInfo\", \n      \"auth.ipSegment\": \"10.0.0.0-10.255.255.255/172.16.0.0-172.31.255.255/192.0.0.0-192.168.255.255/172.10.0.0-172.31.255.255/127.0.0.1-127.0.0.1\",\n      \"userdata.fileUploadPath\":\"/home/jiaoqx/app/tempFile\"\n}\n```\n\n配置项 | 说明\n---- | ----\nauth.clientCode | 系统管理注册的编码\nauth.inLoginUrl | 内网sso Url \nauth.outLoginUrl | 外网 sso url\nauth.unauthorizedUrl  | 未授权提示页面\nauth.inCasserverUrlPrefix |  内网cas服务地址前缀\nauth.outCasserverUrlPrefix | 外网cas服务地址前缀\nauth.inCasService | 内网cas服务地址\nauth.outCasService | 外网cas 服务地址\nauth.inLogoutUrl | 内网单点登出Url\nauth.outLogoutUrl | 外网单点登出Url\nauth.wsGetUserAuthInfo | 获取登录权限信息接口\nauth.ipSegment | 内外网ip判断ip段\nuserdata.fileUploadPath | 文件上传地址 （配置为应用部署服务器的绝对路径）\n\n3. 安装dubbo控制台\n\n   目前版本的管理控制台正在开发中，已经完成了服务查询和服务治理的功能，采用前后端分离的模式，具体的安装和使用步骤如下：\n\n   安装:\n\n   ```shell\n   git clone https://github.com/apache/incubator-dubbo-ops.git /var/tmp/dubbo-ops\n   cd /var/tmp/dubbo-ops\n   mvn clean package\n   ```\n\n   配置 :\n\n   ```shell\n   配置文件为：\n   dubbo-admin-backend/src/main/resources/application.properties\n   主要的配置有：\n   dubbo.registry.address=zookeeper://192.168.129.157:2181\n   ```\n\n   启动:\n\n   ```shell\n   mvn --projects dubbo-admin-backend spring-boot:run\n   ```\n\n   其他配置请访问github中的文档:\n\n   ```shell\n   https://github.com/apache/incubator-dubbo-ops\n   ```\n\n   访问:\n\n   ```shell\n   http://127.0.0.1:8080\n   ```\n\n\n### jdk安装\n\t服务器必须安装jdk1.8版本\n### elb网关组件安装\n\n# 版本包部署\n\n**版本包采用jar包部署**，内置tomcat容器，无需再安装应用服务器\n\n1. 在应用服务器上建立部署目录\n\n  >![公司测试服务器目录结构(bsci_service_farmer为农户接口服务目录、bsci_service_merchant为客商接口服务目录)](/images/lpht_20181115.jpg)\n\n2. 将jar包复制到对应目录下\n\n3. 在jar包同级目录建立服务启动shell 脚本\n\n   ```shell\n   #!/bin/sh\n   service_home=/home/jiaoqx/app/bsci_service_merchant\n   \n   #找到tomcat进程的id并kill掉\n   ps -ef |grep $service_home  |awk {'print $2'} | sed -e \"s/^/kill -9 /g\" | sh -\n   \n   sleep 3\n   \n   #备份日志文件\n   cp -r $service_home/logs/cpi_merchant.log $service_home/logs/cpi_merchant`date +%Y%m%d%H%M%S`.log\n   #启动tomcat\n   nohup java -jar $service_home/lpht-service-merchant-1.0-SNAPSHOT.jar >$service_home/logs/cpi_merchant.log &\n   tail -100f logs/cpi_merchant.log\n   ```\n\n4. 运行脚本\n\n   **备注：cpi、接口服务版本部署方式一致**\n\n","source":"_posts/隆平基础服务平台部署文档.md","raw":"---\n\ntitle: '基础服务平台部署文档'\ndate: 2018-11-15 11:30:03\ncategories:\n- 工作\ntags:\n- java\n- 实施\n---\n# 环境准备\n### 服务器准备\n* 准备服务器 4台，以下分别以A/B/C/D/E标记\n* 应用服务器规划：\n\n服务器 | 部署服务\n----  |  ----\nA | zookeeper主节点/CPI/网关\nB | zookeeper从属节点/农户服务/客商服务\nC | zookeeper从属节点/农户服务/客商服务\nD | zookeeper从属节点/农户服务/客商服务\nE | CPI/dubbo控制台/网关\n\n### dubbo平台安装\n1. 安装zookeeper（*具体安装步骤参考官网资料*）\n\t- 安装zookeeper\n\t- 编辑配置文件，设置主从节点\n\t- 启动zookeeper服务\n2. 设置配置中心\n  - 启动zookeeper客户端> 建议使用zookeeper监视器（zookeeper-dev-ZooInspector.jar）\n  - 在根目录下建立名称为lpht_cfg_center的目录节点，并在该节点下再建立 test子节点，在test节点下建立bsci_service（接口服务配置）、bsci_client（cpi配置）两个节点\n  - 编辑bsci_service节点配置 \n```json\n{\n      \"spring.datasource.url\": \"jdbc:oracle:thin:@192.168.128.108:1521:orcl\",\n      \"spring.datasource.username\": \"LPHT_BASE\",\n      \"spring.datasource.password\": \"LPHT_BASE\",\n      \"farmer.server.port\": \"8661\",\n      \"merchant.server.port\": \"8662\",\t\t\n      \"spring.dubbo.registry.address\":\"zookeeper://192.168.129.157:2181?backup=192.168.129.158:2181,192.168.129.161:2181\",\n      \"farmer.dubbo.port\":\"20861\",\n      \"merchant.dubbo.port\":\"20862\",\n      \"spring.cloud.consul.host\": \"192.168.128.134\",\n      \"spring.cloud.consul.port\": \"8500\"\n} \n```\n\n\n配置项     | 说明\n-------- | ---\nspring.datasource.url | 数据库连接\nspring.datasource.username    | 数据库用户名\nspring.datasource.password     | 数据库连接密码\nfarmer.server.port          | 农户接口服务端口号\nmerchant.server.port  | 客商服务端口号\nspring.dubbo.registry.address | dubbo注册中心地址（?号前是主服务地址端口，backup参数为从属服务地址端口\nfarmer.dubbo.port |  农户接口服务dubbo端口号\nmerchant.dubbo.port |  客商接口服务dubbo端口号\nspring.cloud.consul.host | 网关地址\nspring.cloud.consul.port | 网关端口\n\n  - 编辑bsci_client节点配置\n```json\n{\n      \"auth.clientCode\": \"BS_CONFIG_CENTER\", \n      \"auth.inLoginUrl\": \"http://192.168.128.107:8088/cas/login?service=http://192.168.129.159:9080/bsci/cas&CLIENT_CODE=BS_CONFIG_CENTER\", \n      \"auth.outLoginUrl\": \"http://192.168.128.107:8088/cas/login?service=http://192.168.129.159:9080/bsci/cas&CLIENT_CODE=BS_CONFIG_CENTER\", \n      \"auth.unauthorizedUrl\": \"http://localhost:8080/sales/platform/index.do\", \n      \"auth.inCasserverUrlPrefix\": \"http://192.168.128.107:8088/cas\", \n      \"auth.outCasserverUrlPrefix\": \"http://192.168.128.107:8088/cas\", \n      \"auth.inCasService\": \"http://192.168.129.159:9080/bsci/cas\", \n      \"auth.outCasService\": \"http://192.168.129.159:9080/bsci/cas\", \n      \"auth.inLogoutUrl\": \"http://192.168.128.107:8088/cas/logout?service=http://192.168.129.159:9080/bsci/logout&CLIENT_CODE=BS_CONFIG_CENTER\", \n      \"auth.outLogoutUrl\": \"http://192.168.128.107:8088/cas/logout?service=http://192.168.129.159:9080/bsci/logout&CLIENT_CODE=BS_CONFIG_CENTER\", \n      \"auth.wsGetUserAuthInfo\": \"http://192.168.128.107:8088/sysManager/webservice/authService/getUserInfo\", \n      \"auth.ipSegment\": \"10.0.0.0-10.255.255.255/172.16.0.0-172.31.255.255/192.0.0.0-192.168.255.255/172.10.0.0-172.31.255.255/127.0.0.1-127.0.0.1\",\n      \"userdata.fileUploadPath\":\"/home/jiaoqx/app/tempFile\"\n}\n```\n\n配置项 | 说明\n---- | ----\nauth.clientCode | 系统管理注册的编码\nauth.inLoginUrl | 内网sso Url \nauth.outLoginUrl | 外网 sso url\nauth.unauthorizedUrl  | 未授权提示页面\nauth.inCasserverUrlPrefix |  内网cas服务地址前缀\nauth.outCasserverUrlPrefix | 外网cas服务地址前缀\nauth.inCasService | 内网cas服务地址\nauth.outCasService | 外网cas 服务地址\nauth.inLogoutUrl | 内网单点登出Url\nauth.outLogoutUrl | 外网单点登出Url\nauth.wsGetUserAuthInfo | 获取登录权限信息接口\nauth.ipSegment | 内外网ip判断ip段\nuserdata.fileUploadPath | 文件上传地址 （配置为应用部署服务器的绝对路径）\n\n3. 安装dubbo控制台\n\n   目前版本的管理控制台正在开发中，已经完成了服务查询和服务治理的功能，采用前后端分离的模式，具体的安装和使用步骤如下：\n\n   安装:\n\n   ```shell\n   git clone https://github.com/apache/incubator-dubbo-ops.git /var/tmp/dubbo-ops\n   cd /var/tmp/dubbo-ops\n   mvn clean package\n   ```\n\n   配置 :\n\n   ```shell\n   配置文件为：\n   dubbo-admin-backend/src/main/resources/application.properties\n   主要的配置有：\n   dubbo.registry.address=zookeeper://192.168.129.157:2181\n   ```\n\n   启动:\n\n   ```shell\n   mvn --projects dubbo-admin-backend spring-boot:run\n   ```\n\n   其他配置请访问github中的文档:\n\n   ```shell\n   https://github.com/apache/incubator-dubbo-ops\n   ```\n\n   访问:\n\n   ```shell\n   http://127.0.0.1:8080\n   ```\n\n\n### jdk安装\n\t服务器必须安装jdk1.8版本\n### elb网关组件安装\n\n# 版本包部署\n\n**版本包采用jar包部署**，内置tomcat容器，无需再安装应用服务器\n\n1. 在应用服务器上建立部署目录\n\n  >![公司测试服务器目录结构(bsci_service_farmer为农户接口服务目录、bsci_service_merchant为客商接口服务目录)](/images/lpht_20181115.jpg)\n\n2. 将jar包复制到对应目录下\n\n3. 在jar包同级目录建立服务启动shell 脚本\n\n   ```shell\n   #!/bin/sh\n   service_home=/home/jiaoqx/app/bsci_service_merchant\n   \n   #找到tomcat进程的id并kill掉\n   ps -ef |grep $service_home  |awk {'print $2'} | sed -e \"s/^/kill -9 /g\" | sh -\n   \n   sleep 3\n   \n   #备份日志文件\n   cp -r $service_home/logs/cpi_merchant.log $service_home/logs/cpi_merchant`date +%Y%m%d%H%M%S`.log\n   #启动tomcat\n   nohup java -jar $service_home/lpht-service-merchant-1.0-SNAPSHOT.jar >$service_home/logs/cpi_merchant.log &\n   tail -100f logs/cpi_merchant.log\n   ```\n\n4. 运行脚本\n\n   **备注：cpi、接口服务版本部署方式一致**\n\n","slug":"隆平基础服务平台部署文档","published":1,"updated":"2018-11-20T03:41:34.522Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjpntmcda0003fkja1zhg05v4","content":"<h1 id=\"环境准备\"><a href=\"#环境准备\" class=\"headerlink\" title=\"环境准备\"></a>环境准备</h1><h3 id=\"服务器准备\"><a href=\"#服务器准备\" class=\"headerlink\" title=\"服务器准备\"></a>服务器准备</h3><ul>\n<li>准备服务器 4台，以下分别以A/B/C/D/E标记</li>\n<li>应用服务器规划：</li>\n</ul>\n<table>\n<thead>\n<tr>\n<th>服务器</th>\n<th>部署服务</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>A</td>\n<td>zookeeper主节点/CPI/网关</td>\n</tr>\n<tr>\n<td>B</td>\n<td>zookeeper从属节点/农户服务/客商服务</td>\n</tr>\n<tr>\n<td>C</td>\n<td>zookeeper从属节点/农户服务/客商服务</td>\n</tr>\n<tr>\n<td>D</td>\n<td>zookeeper从属节点/农户服务/客商服务</td>\n</tr>\n<tr>\n<td>E</td>\n<td>CPI/dubbo控制台/网关</td>\n</tr>\n</tbody>\n</table>\n<h3 id=\"dubbo平台安装\"><a href=\"#dubbo平台安装\" class=\"headerlink\" title=\"dubbo平台安装\"></a>dubbo平台安装</h3><ol>\n<li>安装zookeeper（<em>具体安装步骤参考官网资料</em>）<ul>\n<li>安装zookeeper</li>\n<li>编辑配置文件，设置主从节点</li>\n<li>启动zookeeper服务</li>\n</ul>\n</li>\n<li>设置配置中心<ul>\n<li>启动zookeeper客户端&gt; 建议使用zookeeper监视器（zookeeper-dev-ZooInspector.jar）</li>\n<li>在根目录下建立名称为lpht_cfg_center的目录节点，并在该节点下再建立 test子节点，在test节点下建立bsci_service（接口服务配置）、bsci_client（cpi配置）两个节点</li>\n<li>编辑bsci_service节点配置 <figure class=\"highlight json\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123;</span><br><span class=\"line\">      <span class=\"attr\">\"spring.datasource.url\"</span>: <span class=\"string\">\"jdbc:oracle:thin:@192.168.128.108:1521:orcl\"</span>,</span><br><span class=\"line\">      <span class=\"attr\">\"spring.datasource.username\"</span>: <span class=\"string\">\"LPHT_BASE\"</span>,</span><br><span class=\"line\">      <span class=\"attr\">\"spring.datasource.password\"</span>: <span class=\"string\">\"LPHT_BASE\"</span>,</span><br><span class=\"line\">      <span class=\"attr\">\"farmer.server.port\"</span>: <span class=\"string\">\"8661\"</span>,</span><br><span class=\"line\">      <span class=\"attr\">\"merchant.server.port\"</span>: <span class=\"string\">\"8662\"</span>,\t\t</span><br><span class=\"line\">      <span class=\"attr\">\"spring.dubbo.registry.address\"</span>:<span class=\"string\">\"zookeeper://192.168.129.157:2181?backup=192.168.129.158:2181,192.168.129.161:2181\"</span>,</span><br><span class=\"line\">      <span class=\"attr\">\"farmer.dubbo.port\"</span>:<span class=\"string\">\"20861\"</span>,</span><br><span class=\"line\">      <span class=\"attr\">\"merchant.dubbo.port\"</span>:<span class=\"string\">\"20862\"</span>,</span><br><span class=\"line\">      <span class=\"attr\">\"spring.cloud.consul.host\"</span>: <span class=\"string\">\"192.168.128.134\"</span>,</span><br><span class=\"line\">      <span class=\"attr\">\"spring.cloud.consul.port\"</span>: <span class=\"string\">\"8500\"</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n</li>\n</ol>\n<table>\n<thead>\n<tr>\n<th>配置项</th>\n<th>说明</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>spring.datasource.url</td>\n<td>数据库连接</td>\n</tr>\n<tr>\n<td>spring.datasource.username</td>\n<td>数据库用户名</td>\n</tr>\n<tr>\n<td>spring.datasource.password</td>\n<td>数据库连接密码</td>\n</tr>\n<tr>\n<td>farmer.server.port</td>\n<td>农户接口服务端口号</td>\n</tr>\n<tr>\n<td>merchant.server.port</td>\n<td>客商服务端口号</td>\n</tr>\n<tr>\n<td>spring.dubbo.registry.address</td>\n<td>dubbo注册中心地址（?号前是主服务地址端口，backup参数为从属服务地址端口</td>\n</tr>\n<tr>\n<td>farmer.dubbo.port</td>\n<td>农户接口服务dubbo端口号</td>\n</tr>\n<tr>\n<td>merchant.dubbo.port</td>\n<td>客商接口服务dubbo端口号</td>\n</tr>\n<tr>\n<td>spring.cloud.consul.host</td>\n<td>网关地址</td>\n</tr>\n<tr>\n<td>spring.cloud.consul.port</td>\n<td>网关端口</td>\n</tr>\n</tbody>\n</table>\n<ul>\n<li>编辑bsci_client节点配置<figure class=\"highlight json\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123;</span><br><span class=\"line\">      <span class=\"attr\">\"auth.clientCode\"</span>: <span class=\"string\">\"BS_CONFIG_CENTER\"</span>, </span><br><span class=\"line\">      <span class=\"attr\">\"auth.inLoginUrl\"</span>: <span class=\"string\">\"http://192.168.128.107:8088/cas/login?service=http://192.168.129.159:9080/bsci/cas&amp;CLIENT_CODE=BS_CONFIG_CENTER\"</span>, </span><br><span class=\"line\">      <span class=\"attr\">\"auth.outLoginUrl\"</span>: <span class=\"string\">\"http://192.168.128.107:8088/cas/login?service=http://192.168.129.159:9080/bsci/cas&amp;CLIENT_CODE=BS_CONFIG_CENTER\"</span>, </span><br><span class=\"line\">      <span class=\"attr\">\"auth.unauthorizedUrl\"</span>: <span class=\"string\">\"http://localhost:8080/sales/platform/index.do\"</span>, </span><br><span class=\"line\">      <span class=\"attr\">\"auth.inCasserverUrlPrefix\"</span>: <span class=\"string\">\"http://192.168.128.107:8088/cas\"</span>, </span><br><span class=\"line\">      <span class=\"attr\">\"auth.outCasserverUrlPrefix\"</span>: <span class=\"string\">\"http://192.168.128.107:8088/cas\"</span>, </span><br><span class=\"line\">      <span class=\"attr\">\"auth.inCasService\"</span>: <span class=\"string\">\"http://192.168.129.159:9080/bsci/cas\"</span>, </span><br><span class=\"line\">      <span class=\"attr\">\"auth.outCasService\"</span>: <span class=\"string\">\"http://192.168.129.159:9080/bsci/cas\"</span>, </span><br><span class=\"line\">      <span class=\"attr\">\"auth.inLogoutUrl\"</span>: <span class=\"string\">\"http://192.168.128.107:8088/cas/logout?service=http://192.168.129.159:9080/bsci/logout&amp;CLIENT_CODE=BS_CONFIG_CENTER\"</span>, </span><br><span class=\"line\">      <span class=\"attr\">\"auth.outLogoutUrl\"</span>: <span class=\"string\">\"http://192.168.128.107:8088/cas/logout?service=http://192.168.129.159:9080/bsci/logout&amp;CLIENT_CODE=BS_CONFIG_CENTER\"</span>, </span><br><span class=\"line\">      <span class=\"attr\">\"auth.wsGetUserAuthInfo\"</span>: <span class=\"string\">\"http://192.168.128.107:8088/sysManager/webservice/authService/getUserInfo\"</span>, </span><br><span class=\"line\">      <span class=\"attr\">\"auth.ipSegment\"</span>: <span class=\"string\">\"10.0.0.0-10.255.255.255/172.16.0.0-172.31.255.255/192.0.0.0-192.168.255.255/172.10.0.0-172.31.255.255/127.0.0.1-127.0.0.1\"</span>,</span><br><span class=\"line\">      <span class=\"attr\">\"userdata.fileUploadPath\"</span>:<span class=\"string\">\"/home/jiaoqx/app/tempFile\"</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n<table>\n<thead>\n<tr>\n<th>配置项</th>\n<th>说明</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>auth.clientCode</td>\n<td>系统管理注册的编码</td>\n</tr>\n<tr>\n<td>auth.inLoginUrl</td>\n<td>内网sso Url </td>\n</tr>\n<tr>\n<td>auth.outLoginUrl</td>\n<td>外网 sso url</td>\n</tr>\n<tr>\n<td>auth.unauthorizedUrl</td>\n<td>未授权提示页面</td>\n</tr>\n<tr>\n<td>auth.inCasserverUrlPrefix</td>\n<td>内网cas服务地址前缀</td>\n</tr>\n<tr>\n<td>auth.outCasserverUrlPrefix</td>\n<td>外网cas服务地址前缀</td>\n</tr>\n<tr>\n<td>auth.inCasService</td>\n<td>内网cas服务地址</td>\n</tr>\n<tr>\n<td>auth.outCasService</td>\n<td>外网cas 服务地址</td>\n</tr>\n<tr>\n<td>auth.inLogoutUrl</td>\n<td>内网单点登出Url</td>\n</tr>\n<tr>\n<td>auth.outLogoutUrl</td>\n<td>外网单点登出Url</td>\n</tr>\n<tr>\n<td>auth.wsGetUserAuthInfo</td>\n<td>获取登录权限信息接口</td>\n</tr>\n<tr>\n<td>auth.ipSegment</td>\n<td>内外网ip判断ip段</td>\n</tr>\n<tr>\n<td>userdata.fileUploadPath</td>\n<td>文件上传地址 （配置为应用部署服务器的绝对路径）</td>\n</tr>\n</tbody>\n</table>\n<ol start=\"3\">\n<li><p>安装dubbo控制台</p>\n<p>目前版本的管理控制台正在开发中，已经完成了服务查询和服务治理的功能，采用前后端分离的模式，具体的安装和使用步骤如下：</p>\n<p>安装:</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">git clone https://github.com/apache/incubator-dubbo-ops.git /var/tmp/dubbo-ops</span><br><span class=\"line\">cd /var/tmp/dubbo-ops</span><br><span class=\"line\">mvn clean package</span><br></pre></td></tr></table></figure>\n<p>配置 :</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">配置文件为：</span><br><span class=\"line\">dubbo-admin-backend/src/main/resources/application.properties</span><br><span class=\"line\">主要的配置有：</span><br><span class=\"line\">dubbo.registry.address=zookeeper://192.168.129.157:2181</span><br></pre></td></tr></table></figure>\n<p>启动:</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">mvn --projects dubbo-admin-backend spring-boot:run</span><br></pre></td></tr></table></figure>\n<p>其他配置请访问github中的文档:</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">https://github.com/apache/incubator-dubbo-ops</span><br></pre></td></tr></table></figure>\n<p>访问:</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">http://127.0.0.1:8080</span><br></pre></td></tr></table></figure>\n</li>\n</ol>\n<h3 id=\"jdk安装\"><a href=\"#jdk安装\" class=\"headerlink\" title=\"jdk安装\"></a>jdk安装</h3><pre><code>服务器必须安装jdk1.8版本\n</code></pre><h3 id=\"elb网关组件安装\"><a href=\"#elb网关组件安装\" class=\"headerlink\" title=\"elb网关组件安装\"></a>elb网关组件安装</h3><h1 id=\"版本包部署\"><a href=\"#版本包部署\" class=\"headerlink\" title=\"版本包部署\"></a>版本包部署</h1><p><strong>版本包采用jar包部署</strong>，内置tomcat容器，无需再安装应用服务器</p>\n<ol>\n<li><p>在应用服务器上建立部署目录</p>\n<blockquote>\n<p><img src=\"/images/lpht_20181115.jpg\" alt=\"公司测试服务器目录结构(bsci_service_farmer为农户接口服务目录、bsci_service_merchant为客商接口服务目录)\"></p>\n</blockquote>\n</li>\n<li><p>将jar包复制到对应目录下</p>\n</li>\n<li><p>在jar包同级目录建立服务启动shell 脚本</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#</span><span class=\"bash\">!/bin/sh</span></span><br><span class=\"line\">service_home=/home/jiaoqx/app/bsci_service_merchant</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"meta\">#</span><span class=\"bash\">找到tomcat进程的id并<span class=\"built_in\">kill</span>掉</span></span><br><span class=\"line\">ps -ef |grep $service_home  |awk &#123;'print $2'&#125; | sed -e \"s/^/kill -9 /g\" | sh -</span><br><span class=\"line\"></span><br><span class=\"line\">sleep 3</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"meta\">#</span><span class=\"bash\">备份日志文件</span></span><br><span class=\"line\">cp -r $service_home/logs/cpi_merchant.log $service_home/logs/cpi_merchant`date +%Y%m%d%H%M%S`.log</span><br><span class=\"line\"><span class=\"meta\">#</span><span class=\"bash\">启动tomcat</span></span><br><span class=\"line\">nohup java -jar $service_home/lpht-service-merchant-1.0-SNAPSHOT.jar &gt;$service_home/logs/cpi_merchant.log &amp;</span><br><span class=\"line\">tail -100f logs/cpi_merchant.log</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>运行脚本</p>\n<p><strong>备注：cpi、接口服务版本部署方式一致</strong></p>\n</li>\n</ol>\n","site":{"data":{}},"excerpt":"","more":"<h1 id=\"环境准备\"><a href=\"#环境准备\" class=\"headerlink\" title=\"环境准备\"></a>环境准备</h1><h3 id=\"服务器准备\"><a href=\"#服务器准备\" class=\"headerlink\" title=\"服务器准备\"></a>服务器准备</h3><ul>\n<li>准备服务器 4台，以下分别以A/B/C/D/E标记</li>\n<li>应用服务器规划：</li>\n</ul>\n<table>\n<thead>\n<tr>\n<th>服务器</th>\n<th>部署服务</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>A</td>\n<td>zookeeper主节点/CPI/网关</td>\n</tr>\n<tr>\n<td>B</td>\n<td>zookeeper从属节点/农户服务/客商服务</td>\n</tr>\n<tr>\n<td>C</td>\n<td>zookeeper从属节点/农户服务/客商服务</td>\n</tr>\n<tr>\n<td>D</td>\n<td>zookeeper从属节点/农户服务/客商服务</td>\n</tr>\n<tr>\n<td>E</td>\n<td>CPI/dubbo控制台/网关</td>\n</tr>\n</tbody>\n</table>\n<h3 id=\"dubbo平台安装\"><a href=\"#dubbo平台安装\" class=\"headerlink\" title=\"dubbo平台安装\"></a>dubbo平台安装</h3><ol>\n<li>安装zookeeper（<em>具体安装步骤参考官网资料</em>）<ul>\n<li>安装zookeeper</li>\n<li>编辑配置文件，设置主从节点</li>\n<li>启动zookeeper服务</li>\n</ul>\n</li>\n<li>设置配置中心<ul>\n<li>启动zookeeper客户端&gt; 建议使用zookeeper监视器（zookeeper-dev-ZooInspector.jar）</li>\n<li>在根目录下建立名称为lpht_cfg_center的目录节点，并在该节点下再建立 test子节点，在test节点下建立bsci_service（接口服务配置）、bsci_client（cpi配置）两个节点</li>\n<li>编辑bsci_service节点配置 <figure class=\"highlight json\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123;</span><br><span class=\"line\">      <span class=\"attr\">\"spring.datasource.url\"</span>: <span class=\"string\">\"jdbc:oracle:thin:@192.168.128.108:1521:orcl\"</span>,</span><br><span class=\"line\">      <span class=\"attr\">\"spring.datasource.username\"</span>: <span class=\"string\">\"LPHT_BASE\"</span>,</span><br><span class=\"line\">      <span class=\"attr\">\"spring.datasource.password\"</span>: <span class=\"string\">\"LPHT_BASE\"</span>,</span><br><span class=\"line\">      <span class=\"attr\">\"farmer.server.port\"</span>: <span class=\"string\">\"8661\"</span>,</span><br><span class=\"line\">      <span class=\"attr\">\"merchant.server.port\"</span>: <span class=\"string\">\"8662\"</span>,\t\t</span><br><span class=\"line\">      <span class=\"attr\">\"spring.dubbo.registry.address\"</span>:<span class=\"string\">\"zookeeper://192.168.129.157:2181?backup=192.168.129.158:2181,192.168.129.161:2181\"</span>,</span><br><span class=\"line\">      <span class=\"attr\">\"farmer.dubbo.port\"</span>:<span class=\"string\">\"20861\"</span>,</span><br><span class=\"line\">      <span class=\"attr\">\"merchant.dubbo.port\"</span>:<span class=\"string\">\"20862\"</span>,</span><br><span class=\"line\">      <span class=\"attr\">\"spring.cloud.consul.host\"</span>: <span class=\"string\">\"192.168.128.134\"</span>,</span><br><span class=\"line\">      <span class=\"attr\">\"spring.cloud.consul.port\"</span>: <span class=\"string\">\"8500\"</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n</li>\n</ol>\n<table>\n<thead>\n<tr>\n<th>配置项</th>\n<th>说明</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>spring.datasource.url</td>\n<td>数据库连接</td>\n</tr>\n<tr>\n<td>spring.datasource.username</td>\n<td>数据库用户名</td>\n</tr>\n<tr>\n<td>spring.datasource.password</td>\n<td>数据库连接密码</td>\n</tr>\n<tr>\n<td>farmer.server.port</td>\n<td>农户接口服务端口号</td>\n</tr>\n<tr>\n<td>merchant.server.port</td>\n<td>客商服务端口号</td>\n</tr>\n<tr>\n<td>spring.dubbo.registry.address</td>\n<td>dubbo注册中心地址（?号前是主服务地址端口，backup参数为从属服务地址端口</td>\n</tr>\n<tr>\n<td>farmer.dubbo.port</td>\n<td>农户接口服务dubbo端口号</td>\n</tr>\n<tr>\n<td>merchant.dubbo.port</td>\n<td>客商接口服务dubbo端口号</td>\n</tr>\n<tr>\n<td>spring.cloud.consul.host</td>\n<td>网关地址</td>\n</tr>\n<tr>\n<td>spring.cloud.consul.port</td>\n<td>网关端口</td>\n</tr>\n</tbody>\n</table>\n<ul>\n<li>编辑bsci_client节点配置<figure class=\"highlight json\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123;</span><br><span class=\"line\">      <span class=\"attr\">\"auth.clientCode\"</span>: <span class=\"string\">\"BS_CONFIG_CENTER\"</span>, </span><br><span class=\"line\">      <span class=\"attr\">\"auth.inLoginUrl\"</span>: <span class=\"string\">\"http://192.168.128.107:8088/cas/login?service=http://192.168.129.159:9080/bsci/cas&amp;CLIENT_CODE=BS_CONFIG_CENTER\"</span>, </span><br><span class=\"line\">      <span class=\"attr\">\"auth.outLoginUrl\"</span>: <span class=\"string\">\"http://192.168.128.107:8088/cas/login?service=http://192.168.129.159:9080/bsci/cas&amp;CLIENT_CODE=BS_CONFIG_CENTER\"</span>, </span><br><span class=\"line\">      <span class=\"attr\">\"auth.unauthorizedUrl\"</span>: <span class=\"string\">\"http://localhost:8080/sales/platform/index.do\"</span>, </span><br><span class=\"line\">      <span class=\"attr\">\"auth.inCasserverUrlPrefix\"</span>: <span class=\"string\">\"http://192.168.128.107:8088/cas\"</span>, </span><br><span class=\"line\">      <span class=\"attr\">\"auth.outCasserverUrlPrefix\"</span>: <span class=\"string\">\"http://192.168.128.107:8088/cas\"</span>, </span><br><span class=\"line\">      <span class=\"attr\">\"auth.inCasService\"</span>: <span class=\"string\">\"http://192.168.129.159:9080/bsci/cas\"</span>, </span><br><span class=\"line\">      <span class=\"attr\">\"auth.outCasService\"</span>: <span class=\"string\">\"http://192.168.129.159:9080/bsci/cas\"</span>, </span><br><span class=\"line\">      <span class=\"attr\">\"auth.inLogoutUrl\"</span>: <span class=\"string\">\"http://192.168.128.107:8088/cas/logout?service=http://192.168.129.159:9080/bsci/logout&amp;CLIENT_CODE=BS_CONFIG_CENTER\"</span>, </span><br><span class=\"line\">      <span class=\"attr\">\"auth.outLogoutUrl\"</span>: <span class=\"string\">\"http://192.168.128.107:8088/cas/logout?service=http://192.168.129.159:9080/bsci/logout&amp;CLIENT_CODE=BS_CONFIG_CENTER\"</span>, </span><br><span class=\"line\">      <span class=\"attr\">\"auth.wsGetUserAuthInfo\"</span>: <span class=\"string\">\"http://192.168.128.107:8088/sysManager/webservice/authService/getUserInfo\"</span>, </span><br><span class=\"line\">      <span class=\"attr\">\"auth.ipSegment\"</span>: <span class=\"string\">\"10.0.0.0-10.255.255.255/172.16.0.0-172.31.255.255/192.0.0.0-192.168.255.255/172.10.0.0-172.31.255.255/127.0.0.1-127.0.0.1\"</span>,</span><br><span class=\"line\">      <span class=\"attr\">\"userdata.fileUploadPath\"</span>:<span class=\"string\">\"/home/jiaoqx/app/tempFile\"</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n<table>\n<thead>\n<tr>\n<th>配置项</th>\n<th>说明</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>auth.clientCode</td>\n<td>系统管理注册的编码</td>\n</tr>\n<tr>\n<td>auth.inLoginUrl</td>\n<td>内网sso Url </td>\n</tr>\n<tr>\n<td>auth.outLoginUrl</td>\n<td>外网 sso url</td>\n</tr>\n<tr>\n<td>auth.unauthorizedUrl</td>\n<td>未授权提示页面</td>\n</tr>\n<tr>\n<td>auth.inCasserverUrlPrefix</td>\n<td>内网cas服务地址前缀</td>\n</tr>\n<tr>\n<td>auth.outCasserverUrlPrefix</td>\n<td>外网cas服务地址前缀</td>\n</tr>\n<tr>\n<td>auth.inCasService</td>\n<td>内网cas服务地址</td>\n</tr>\n<tr>\n<td>auth.outCasService</td>\n<td>外网cas 服务地址</td>\n</tr>\n<tr>\n<td>auth.inLogoutUrl</td>\n<td>内网单点登出Url</td>\n</tr>\n<tr>\n<td>auth.outLogoutUrl</td>\n<td>外网单点登出Url</td>\n</tr>\n<tr>\n<td>auth.wsGetUserAuthInfo</td>\n<td>获取登录权限信息接口</td>\n</tr>\n<tr>\n<td>auth.ipSegment</td>\n<td>内外网ip判断ip段</td>\n</tr>\n<tr>\n<td>userdata.fileUploadPath</td>\n<td>文件上传地址 （配置为应用部署服务器的绝对路径）</td>\n</tr>\n</tbody>\n</table>\n<ol start=\"3\">\n<li><p>安装dubbo控制台</p>\n<p>目前版本的管理控制台正在开发中，已经完成了服务查询和服务治理的功能，采用前后端分离的模式，具体的安装和使用步骤如下：</p>\n<p>安装:</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">git clone https://github.com/apache/incubator-dubbo-ops.git /var/tmp/dubbo-ops</span><br><span class=\"line\">cd /var/tmp/dubbo-ops</span><br><span class=\"line\">mvn clean package</span><br></pre></td></tr></table></figure>\n<p>配置 :</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">配置文件为：</span><br><span class=\"line\">dubbo-admin-backend/src/main/resources/application.properties</span><br><span class=\"line\">主要的配置有：</span><br><span class=\"line\">dubbo.registry.address=zookeeper://192.168.129.157:2181</span><br></pre></td></tr></table></figure>\n<p>启动:</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">mvn --projects dubbo-admin-backend spring-boot:run</span><br></pre></td></tr></table></figure>\n<p>其他配置请访问github中的文档:</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">https://github.com/apache/incubator-dubbo-ops</span><br></pre></td></tr></table></figure>\n<p>访问:</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">http://127.0.0.1:8080</span><br></pre></td></tr></table></figure>\n</li>\n</ol>\n<h3 id=\"jdk安装\"><a href=\"#jdk安装\" class=\"headerlink\" title=\"jdk安装\"></a>jdk安装</h3><pre><code>服务器必须安装jdk1.8版本\n</code></pre><h3 id=\"elb网关组件安装\"><a href=\"#elb网关组件安装\" class=\"headerlink\" title=\"elb网关组件安装\"></a>elb网关组件安装</h3><h1 id=\"版本包部署\"><a href=\"#版本包部署\" class=\"headerlink\" title=\"版本包部署\"></a>版本包部署</h1><p><strong>版本包采用jar包部署</strong>，内置tomcat容器，无需再安装应用服务器</p>\n<ol>\n<li><p>在应用服务器上建立部署目录</p>\n<blockquote>\n<p><img src=\"/images/lpht_20181115.jpg\" alt=\"公司测试服务器目录结构(bsci_service_farmer为农户接口服务目录、bsci_service_merchant为客商接口服务目录)\"></p>\n</blockquote>\n</li>\n<li><p>将jar包复制到对应目录下</p>\n</li>\n<li><p>在jar包同级目录建立服务启动shell 脚本</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#</span><span class=\"bash\">!/bin/sh</span></span><br><span class=\"line\">service_home=/home/jiaoqx/app/bsci_service_merchant</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"meta\">#</span><span class=\"bash\">找到tomcat进程的id并<span class=\"built_in\">kill</span>掉</span></span><br><span class=\"line\">ps -ef |grep $service_home  |awk &#123;'print $2'&#125; | sed -e \"s/^/kill -9 /g\" | sh -</span><br><span class=\"line\"></span><br><span class=\"line\">sleep 3</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"meta\">#</span><span class=\"bash\">备份日志文件</span></span><br><span class=\"line\">cp -r $service_home/logs/cpi_merchant.log $service_home/logs/cpi_merchant`date +%Y%m%d%H%M%S`.log</span><br><span class=\"line\"><span class=\"meta\">#</span><span class=\"bash\">启动tomcat</span></span><br><span class=\"line\">nohup java -jar $service_home/lpht-service-merchant-1.0-SNAPSHOT.jar &gt;$service_home/logs/cpi_merchant.log &amp;</span><br><span class=\"line\">tail -100f logs/cpi_merchant.log</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>运行脚本</p>\n<p><strong>备注：cpi、接口服务版本部署方式一致</strong></p>\n</li>\n</ol>\n"}],"PostAsset":[],"PostCategory":[{"post_id":"cjpntmcda0003fkja1zhg05v4","category_id":"cjpntmcde0004fkjazg8x9ntk","_id":"cjpntmcdk0007fkjaz67mmz46"}],"PostTag":[{"post_id":"cjpntmcda0003fkja1zhg05v4","tag_id":"cjpntmcdi0005fkjahnpce9it","_id":"cjpntmcdl0008fkjawhtuediz"},{"post_id":"cjpntmcda0003fkja1zhg05v4","tag_id":"cjpntmcdj0006fkjaimeyovge","_id":"cjpntmcdl0009fkjamy9wvlq0"}],"Tag":[{"name":"java","_id":"cjpntmcdi0005fkjahnpce9it"},{"name":"实施","_id":"cjpntmcdj0006fkjaimeyovge"}]}}